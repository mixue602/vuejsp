<!DOCTYPE html>
<html lang="en" style="height: 100%">
<head>
    <meta charset="utf-8">
    <meta content="width=device-width,initial-scale=1.0,maximum-scale=1.0,user-scalable=no" name="viewport" />
    <title>话费充值</title>
    <link rel="dns-prefetch" href="//js.gomegj.com/"/>
    <link rel="dns-prefetch" href="//css.gomegj.com/"/>
    <link rel="dns-prefetch" href="//img.gomegj.com/"/>
    <!-- 图标 -->
    <link rel="shortcut icon" type="image/x-icon" href="img/favicon.ico" />
    <link rel="apple-touch-icon-precomposed" href="img/appicon.png" />
    <link rel="stylesheet" href="/resources/css/reset.css">
    <script src="/resources/js/flexible.js"></script>
</head>
<body style="height: 100%">
    <div class="my"></div>
    <script src="/resources/js/GomeJSBridge.js"></script>
    <script src="/resources/js/vue2.0.js"></script>
    <script src="/resources/js/zepto.min.js"></script>
    <script src="/resources/js/util.js"></script>
    <script src="/resources/js/ripple.js"></script>
    <script src="/resources/js/virtual.js"></script>
    <script src="//res.wx.qq.com/open/js/jweixin-1.0.0.js"></script>
    <script src="/resources/js/wx.config.js"></script>
    <script>
            $(document).ready(function() {
                // // 微信js
                var wc = new WxConfig({
                    cfg: {
                        //'debug': true,
                        'jsApiList': ['onMenuShareTimeline', 'onMenuShareAppMessage', 'onMenuShareQQ', 'onMenuShareWeibo', 'onMenuShareQZone']
                    },
                    // 验证成功
                    ready: readyCbk,
                    // 验证失败
                    error: errorCbk
                });
                // 初始化
                wc.init();
            });
            /**
             * 微信js验证成功回调
             */
            function readyCbk() {
                var orderOriginId = null
				if(window.BPConfig.channel!=undefined){
					orderOriginId = window.BPConfig.channel;
				}

                // 分享标题
                var title = '国美管家',
                    // 分享链接
                    link ='http://wap.gomegj.com/wxcommon/v1/wxrc?furl=http://wap.gomegj.com/yf/virtual.html?channel='+orderOriginId,
                    // 分享描述
                    desc = '充值享折扣，优惠享不停，充到就是赚到哦~',
                    // 分享图标
                    imgUrl = 'http://gfs11.gomein.net.cn/T1O7EvB_Lg1RCvBVdK.png',
                    title2 = '国美管家-充值享折扣，优惠享不停，充到就是赚到哦~';

                // 分享到朋友圈
                wx.onMenuShareTimeline({
                    title: title2,
                    link: link,
                    imgUrl: imgUrl,
                    success: successCbk,
                    cancel: cancelCbk
                });
                // 分享给朋友
                wx.onMenuShareAppMessage({
                    title: title,
                    desc: desc,
                    link: link,
                    imgUrl: imgUrl,
                    success: successCbk,
                    cancel: cancelCbk
                });
                // 分享到QQ
                wx.onMenuShareQQ({
                    title: title,
                    desc: desc,
                    link: link,
                    imgUrl: imgUrl,
                    success: successCbk,
                    cancel: cancelCbk
                });
                // 分享到腾讯微博
                wx.onMenuShareWeibo({
                    title: title,
                    desc: desc,
                    link: link,
                    imgUrl: imgUrl,
                    success: successCbk,
                    cancel: cancelCbk
                });
                // 分享到QQ空间
                wx.onMenuShareQZone({
                    title: title,
                    desc: desc,
                    link: link,
                    imgUrl: imgUrl,
                    success: successCbk,
                    cancel: cancelCbk
                });
            }
            /**
             * 验证失败回调
             */
            function errorCbk() {
                // 提示用户
                /*util.alert('页面加载遇到问题，将重新尝试。', {
                    justOk: false,
                    defBtnIndex: 0,
                    okFn: function() {
                        // 重新加载页面
                        window.location.reload();
                    }
                });*/
            }
            /**
             * 分享成功回调
             */
            function successCbk() {
                // nothing...
            }
            /**
             * 取消分享回调
             */
            function cancelCbk() {
                // nothing...
            }
        </script>
</body>
</html>